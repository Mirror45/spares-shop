const filter=()=>{const e=document.querySelector(".top-filters__sorting-mobile button"),t=document.querySelector(".form-models__back"),c=document.body;e&&e.addEventListener("click",(()=>{c&&(c.classList.contains("filter-opened")?c.classList.remove("filter-opened"):c.classList.add("filter-opened"))})),t&&t.addEventListener("click",(()=>{c&&c.classList.contains("filter-opened")&&c.classList.remove("filter-opened")}));const s=document.getElementById("min-price-mask"),l=document.getElementById("max-price-mask");let o,n;const r=e=>parseInt(e.replace(/ /g,""),10);s&&(s.addEventListener("focus",(e=>{o=e.target.value})),s.addEventListener("blur",(e=>{const t=r(e.target.value);if(t<r(l.value)){const e=t/(L-m)*u.clientWidth;y(e)}else e.target.value=o}))),l&&(l.addEventListener("focus",(e=>{n=e.target.value})),l.addEventListener("blur",(e=>{const t=r(e.target.value);if(t>r(s.value)){const e=t/(L-m)*u.clientWidth;_(e)}else e.target.value=n})));const d=document.querySelector(".left-filter__price--fieldset"),i=document.querySelector(".left-filter__range-toggle--min"),a=document.querySelector(".left-filter__range-toggle--max"),u=document.querySelector(".left-filter__scale"),f=document.querySelector(".left-filter__bar"),m=0,L=3e4;let v=!1,p=!1;i&&i.addEventListener("mousedown",(()=>{v=!0})),a&&a.addEventListener("mousedown",(()=>{p=!0})),document.addEventListener("mousemove",(e=>{if(v||p){const t=e.clientX-d.offsetLeft,c=Math.floor((L-m)*t/u.clientWidth);v&&t>=0&&t<a.offsetLeft&&(y(t),s.value=c),p&&t>=i.offsetLeft&&t<=u.clientWidth&&(_(t),l.value=c)}}));const y=e=>{i.style.left=e+"px",f.style.marginLeft=i.style.left,f.style.width=a.offsetLeft-e+"px"},_=e=>{a.style.left=e+"px",f.style.width=e-i.offsetLeft+"px"};document.addEventListener("mouseup",(e=>{v=!1,p=!1,e.target.closest(".custom-select")||q()}));document.querySelectorAll(".left-filter__accordion-close").forEach((e=>{e.addEventListener("click",(t=>{t.target.parentNode.childNodes.forEach((t=>{t.classList&&t.classList.contains("left-filter__accordion-wrapper")&&(t.classList.contains("accordion-hidden")?(t.classList.remove("accordion-hidden"),e.classList.remove("accordion-close-button")):(t.classList.add("accordion-hidden"),e.classList.add("accordion-close-button")))}))}))}));const g=document.querySelector(".left-filter__reset"),E=document.querySelectorAll(".left-filter__option>input[type=checkbox]");g&&g.addEventListener("click",(()=>{E.forEach((e=>{e.checked=!1})),s.value=2e3,l.value=12e3,y(18),_(108)}));document.querySelectorAll(".custom-select__title").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".custom-select");t.classList.contains("select-opened")?t.classList.remove("select-opened"):t.classList.add("select-opened")}))}));document.querySelectorAll(".custom-select li").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".custom-select");t.classList.remove("select-opened");const c=e.target.getAttribute("data-value");document.querySelector("#"+t.id+" input[type=hidden]").value=c;document.querySelector("#"+t.id+" .custom-select__title").innerHTML=c;document.querySelectorAll("#"+t.id+" li").forEach((e=>{e.classList.remove("selected")})),e.target.classList.add("selected")}))}));const h=document.querySelectorAll(".custom-select"),q=()=>{h.forEach((e=>{e.classList.remove("select-opened")}))};document.onkeydown=e=>{27===(e=e||window.event).keyCode&&q()}};export{filter};